= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
rekey [-verify][-repair][-repair-quiet]
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

EXAMPLE:
rekey-verify


The 'rekey' command ALWAYS regenerates the database keys, which depend on
the setting of addr_xforms, so when that variable is changed the database
must be rekeyed or some addresses may become inaccessible. In addition, it
can be used to repair the registry by adding one or more switches.

To test subscriber data against registry data and issue warnings if they
are inconsistent, use "rekey-verify". No changes will be made to the
subscriber lists or the registry, but the database keys WILL be regenerated.

To test subscriber data against registry data and fix both subscriber lists
and the registry if they are inconsistent, use "rekey-repair". This may add
subscribers to lists if the registry says they should be there, or it may
add entries to the registry if the lists have subscriptions that have been
dropped from the registry. Whether or not changes are made to the subscriber
lists or the registry, the database keys WILL be regenerated. Any address
that is changed by this command will receive a new personal password via email.

The 'rekey-repair' command notifies people whose subscriptions or register
entries were altered. You can suppress this notification, and keep from
sending the new password, with 'rekey-repair-quiet'. Once again, the
database keys WILL be regenerated. Note that suppressing the new password
message means subscribers who have saved their password will be unable to
use it and will not know why.

Be _very careful_ with this command.  It is possible, with a bad setting
of addr_xforms, to severely damage your address database. If there were
addresses on any list (or registered) that were different but are now the
same, the duplicate entries will be silently dropped. It is generally
possible to get them back by removing the bad setting from addr_xforms
and rekeying.


See Also:
   help configset access_rules_variables (set/test for this command)
   help configset addr_xforms  (downcase or otherwise fix addresses)

For a list of all help topics send this one-line message
   help topics
to the server at $MJ
