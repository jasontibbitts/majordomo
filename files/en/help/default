= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
default variable [value]
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
variable, required, is one of delay, display, list, password, user
value, if specified, is the string to be used in following commands
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

NOTE: This help file is for the command called "default". To get
      basic help, just send "help" to the server (not "help default").

The 'default' command sets certain defaults used by the command parser
for processing one or more commands. The more commands you have, the
more "default" helps you. It is most often used by list owners and
administrators, but can also be used by subscribers.

This is not a general variable mechanism; it only works for the 
five variables described in the next section.  If the value is omitted, 
the default setting is removed.  This allows you to set one of the
four variables for some commands but not for others.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

The following default variables can be set, as explained below:

Section 1: default delay TIMESPEC
   Postpones commands, making them occur in the future instead of
   when the command is parsed.

Section 2: default list LISTNAME
   Sets the default list for commands to the provided list.
   To clear the default list, leave LISTNAME blank. This 
   command is NOT supported by mj_shell, only by the email interface.

Section 3: default password STRING
   Approves all following commands with the given password.
   To clear the password, don't supply one.

Section 4: default user ADDRESS
   Replaces the address found in the "From:" field of your email headers.

Section 5: default display PROGRAM
   The default display command is used in the mj_shell program to 
   make the results easier to read.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Section 1: default delay TIMESPEC

This command postpones OTHER commands, making them occur in the
future instead of when the other command is parsed. The TIMESPEC
is detailed in the "Time Period" section of "help times".

For example,
  default delay 3h
would cause all subsequent commands to be delayed by three hours,
but only if an admin password is supplied and access_password_override
is enabled.

The delay command also supports a non-standard time specification
of "seconds", in which there is nothing after an integer:
  default delay 3
would set the delay to 3 seconds.  This is useful if you want a
command to be executed by the very next delay trigger. (The delay
trigger times are list-specific.  See "help
By default, delay triggers occur every hour.

A delay can also be specified in the access_rules setting, where
there is both a 'delay' action and a 'delay' variable.

See "help delay" for more information about delays.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Section 2: default list LISTNAME

Setting a default list makes the list an optional argument for all
commands which take one (excepting the createlist command). To clear
the default list for additional commands, use the following command:

  default list

Note that this is not without ambiguity, as the parser cannot always
tell when the default list is implied.  When running at the -request
address, the parser generally starts with a default list in place.

This command is not available in the mj_shell interface.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Section 3: default password STRING

Setting a default password will implicitly do the equivalent of
'approve password' at the beginning of each following command.

List subscribers will find little use for "default", except that
it can make command lines shorter.

List administrators will find it especially useful when returning
the output of a 'configshow' command to the parser to change some
variables; simply add the 'default password' command to the beginning
of the message or file, and the parser will accept the 'configset'
commands exactly as displayed by the configshow command.

Defaulting a password make it much simpler to submit multiple
commands to the parser in one fell swoop.  For example, it makes
the following sets of commands equivalent:
    approve MYPASSWORD subscribe ONE-LIST someone@example.com
    approve MYPASSWORD subscribe TWO-LIST someone@example.com
or:
    default password MYPASSWORD
    subscribe ONE-LIST someone@example.com
    subscribe TWO-LIST someone@example.com

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Section 4: default user ADDRESS

ADDRESS is a regular email address, optionally containing comments.
For example:
  joe@blow.com
  Joe Blow <joe@blow.com>
  joe@blow.com (Joe Blow)

When a "default user" command is in effect, any command that looks
at your headers to see who sent the command will behave as if your
headers had contained the defaulted ADDRESS instead. To cancel the
command, and cause the command parser to look at your headers again,
issue the command with no ADDRESS.

You can put several different "default user" commands in a single
email, each applying to other commands which follow.

Since confirm tokens always go to the address being altered, 'default'
will not allow someone to alter another person's subscription. Some
commands, such as changeaddr, require confirmation tokens from two
addresses (the address being changed and the address making the
request) so 'default user' can cause a token to be sent to an address
other than the one which sent the request.

Setting a default user is primarily useful when resubscribing
(see "help changeaddr"), and then only if the "From:" field of
the request message is incorrect. It can also be used by a list
owner to send info files, show output, etc. to someone who
simply can't figure out how to do it for themselves.

For example, a message sent from the server to the user's address
will have the "From" field address showing who sent the request
(rather than the server's address or the defaulted user's address).
The person sending the message to the server will still see the
result of the command (succeed, stall, fail) but none of the output.

Defaulting a user can make it much simpler to submit multiple
commands to the parser in one fell swoop.  For example, it makes
the following sets of commands equivalent:
    approve MYPASSWORD subscribe ONE-LIST someone@example.com
    approve MYPASSWORD subscribe TWO-LIST someone@example.com
or:
    default password MYPASSWORD
    default password Real Name <someone@example.com>
    subscribe ONE-LIST
    subscribe TWO-LIST

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Section 5: default display pager
           default display editor

In the mj_shell program, when you type a command, sometimes the results
occupy more than one page on your screen.  The default display command
makes the results easier to read.  There are two programs supported,
pager and editor.

The pager program, usually "more" or "less," is taken from the PAGER 
environment variable.  After you finish reading the output and quit
the pager, you will return to the mj_shell command line and have
the opportunity to type more commands.

The editor program, such as "emacs," "vi," or "pico," is taken from
the EDITOR or VISUAL environment variable.  After you finish editing
the output of the commands, the mj_shell program will read the edited
output and attempt to issue any commands it contains.  For example,
if you would like to remove some addresses that have been experiencing
delivery failures, you could use these two commands:

  default display editor
  who-bounces LISTNAME

where LISTNAME is the name of your mailing list.  With the editor, 
you could then add unsubscribe commands to the output and remove
several addresses at once.

To turn off the editor or pager feature, use this command:

  default display

If the mj_shell program is run with the "-P" option, the pager will
be turned on immediately.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

See Also:
   help accept     (which may be required if default is not used)
   help admin_passwords (to learn how administrative passwords are used)
   help approve    (like "default password", but for only one command)
   help configset_access_rules (for another way to delay actions)
   help configset_triggers (determines when postponed requests are completed)
   help changeaddr (for how to replace one address with another)
   help delay      (for an overview of how to postpone requests)
   help mj_shell
   help password   (which changes an individual's password)
   help set        (for how to change some or all subscriptions)

$INCLUDE-help/foot
