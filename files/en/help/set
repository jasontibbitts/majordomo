= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
set[-pattern][-regex][-allmatching] listname flag[,flag,flag...] address
set[-pattern][-regex][-allmatching] ALL      flag[,flag,flag...] address
set-check[-pattern][-regex][-allmatching] listname address
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
listname, required, is an email list at this site (ALL is special case)
flag,     required, is a subscription parameter (listed below)
address,  required, is an address already subscribed to listname
-check, if specified, displays settings instead of changing them
-pattern, if specified, treats the address as a pattern (see "help patterns")
-regex,   if specified, treats the address as a pattern (see "help patterns")
-allmatching, if specified, operates on every address that matches
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

This command sets the values of various subscription parameters, some
of which can be pre-set by the list owner. Each time you use "set",
you will get back a summary of all of your settings. If you use "ALL"
as the list name, you will either alter (if you supply flags) or
report on (if you use -check) every list you are subscribed to.

If you use the "set-check" option, you may not specify any flags
and you will just get back a summary of your existing settings.

NOTE: If you use the pseudo-list "ALL" instead of a specific list name,
your subscription will be changed for every list to which you are subscribed.
This can be very handy when you're going on (or returning from) vacation!

You can supply a comma-separated list of flags and classes. If there
are conflicts, the ones at the end of the list take precedence.  If
any of the settings are illegal then none of the command takes effect.

If the "-regex" option is used, "address" is interpreted as a
Majordomo matching pattern. Review the "help patterns" file carefully.
Patterns can be very simple or full-blown Perl regular expressions.
When -regex is used to unsubscribe addresses with wild cards, the
list password is required and confirmations will not be requested.
Without "-allmatching", only the first matching address is removed.

If the "-allmatching" option is used with "-regex", then every
address that matches the pattern will have its settings affected.

Each address has an original and a canonical form.  Usually these
addresses are the same, but if the original address (the one
that was used to subscribe to a mailing list) is an alias for
another address, the latter address is the canonical address.

When the "-regex" option is used, the canonical addresses are
compared to the pattern.  This may cause some surprising results
when an original address that does not match the pattern is
reported to have been had its settings changed.


                         TABLE OF CONTENTS
The settings can be grouped as follows, and each of these numbered items
is in a separate section below (specify only one of each group, because
each one will override the others in the group):
  1. subscription class or subclass
      (each, unique, nomail, nomail-period, nomail-return, vacation, digest, digest-XXX, all)
  2. informative messages
      (noack, ackall, ackimportant, ackstall, ackdeny, ackpost, ackreject)
  3. copies of your own posts (selfcopy, noselfcopy)
  4. being visible with "who" (hideall, hideaddress, nohide, showall)
  5. list mail if you already got a CC (eliminatecc, noeliminatecc)
  6. subject prefix added by owner (prefix, noprefix)
  7. replyto header added by owner (replyto, noreplyto)
  8. rewrite "From:" header when you post (rewritefrom, norewritefrom)
  9. summary of all possible flags (and how to default them)
 10. administrators only: how to change flags for ALL subscribers

At the bottom of this file is a summary of all possible flags and a
cross reference to default settings that might be useful to list owners.
With the exception of subscription class, the default settings can be
pre-configured (see "help configset default_flags") by the list owner,
and the ability to change settings can be restricted by the list owner
(see "help configset allowed_flags").

NOTE TO LIST OWNERS: See "help configset access_rules" for how to
eliminate confirmation of set commands. The default is to require
confirmation whether or not the "From:" header of the request
matches the address on the command line. Without confirmation,
subscribers are open to denial of service attacks (like malicious
"set nomail"). The user will get a notice that their subscription
was changed, but may miss post or may not get them in a timely
manner if settings are changed without the subscriber's reply.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  1. subscription class or subclass
(each, unique, nomail, nomail-period, nomail-return, vacation, digest, digest-XXX, all)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

You can set your subscription class, which controls how (and if) you
receive messages from the server. List owners should refer to
"help configset dup_lifetime" if any subscribers want to use the
duplicate post elimination of the "unique" class.

There are four basic classes:
     each          - you get each message as it is posted.
     unique        - like 'each', but no duplicates from multiple lists.
     digest        - you get periodic collections of messages.
     nomail        - you get nothing until you issue another 'set' command.

In addition, there are some special classes:
     nomail-period - you get nothing for the specified time period.
     nomail-return - cancels "set nomail", if one is in effect.
     vacation      - another way of spelling "nomail".
     all           - special class for list owners, NOT a combination of the others

For the class of "digest", the list owner can define sub-classes on
a per-list basis. Typical sub-classes, NOT always present, might be:
     digest-weekly
     digest-daily
The list owner can also determine the default class for new subscribers
as described in "help configset default_class".


1a) Subscription Class of "each":

  To receive each message from the list as it is posted, send this
  one-line command to $MJ
     set LISTNAME each YourEmailAddressHere
  where "LISTNAME" is replaced with the name of the list. This will turn
  off (or cancel) the digest and/or nomail options if they are in effect.
  If you are subscribed to many lists at the same server, and often get
  the same message from several lists, consider using "unique" instead.


1b) Subscription Class of "unique":

  To receive each message from the FIRST LIST it goes to, as it is posted,
  send this one-line command to $MJ
     set LISTNAME unique YourEmailAddressHere
  where "LISTNAME" is replaced with the name of the list. This will turn
  off (or cancel) the digest and/or nomail options if they are in effect.
  This class is different from "each" in that subscribers will not receive
  additional copies of the same message if they have potentially received
  it from a different mailing list on which they are subscribed and on
  which the same message was posted. Odd results may occur if you are in
  the "digest" class for some lists and "unique" for others, but you should
  still get exactly one copy of each message.


1c) Subscription Class of "nomail" or "vacation":

  NOTE: You can use either "nomail" or "vacation", they are the same class.

  To temporarily suspend all messages from the list, without unsubscribing,
  send this one-line command to $MJ
     set LISTNAME nomail YourEmailAddressHere
  where "LISTNAME" is replaced with the name of the list. If you don't specify
  a time period (as described below), messages from the list will be suspended
  until you turn them back on with either 'digest' or 'each', or "nomail-return".

  If you didn't specify a time period (as described below), or if you come back
  early, send this command to cancel "nomail":
     set LISTNAME nomail-return YourEmailAddressHere
  which will return you to 'each' or 'digest', however your subscription was
  set before you enabled 'nomail', without you having to remember.

  You can also specify an amount of time that you would like to stop receiving
  mail, as a number of days/weeks/months/etc. If you DO specify a time period,
  you will return to the 'digest' or 'each' setting you had before you set your
  subscription to 'nomail'. For details on how to specify the time period, see
  "help times".

  For example, you can send commands like this to $MJ
     set LISTNAME nomail YourEmailAddressHere
  which suspends email from the list "LISTNAME" until you turn it back on,
     set LISTNAME nomail-4d YourEmailAddressHere
  which suspends email for four days, or
     set LISTNAME nomail-1months YourEmailAddressHere
  which suspends email for one month. Remember that "LISTNAME" is replaced
  with the name of the list where you are subscribed. If you come back


1d) Subscription Class of "digest":

  To receive groups of messages or just a list of messages from the list,
  instead of receiving each message one at a time, send this one-line
  command to $MJ
     set LISTNAME digest YourEmailAddressHere
  where "LISTNAME" is replaced with the name of the list.


1e) Subscription Class of "digest" with a sub-class of digest name:

  Along with 'digest', you can specify which sub-class of digest you want to
  receive and how you want it formatted. For example, you can send one of these
  commands in a message to $MJ
     set LISTNAME digest-daily-mime YourEmailAddressHere
     set LISTNAME digest-weekly-index YourEmailAddressHere
  where "LISTNAME" is replaced with the name of the list.
     The supported types of digest you can receive are:
       mime  - a format supported by many of the newer mail clients.
       text  - the old, plain text digest format
       index - just an index of messages; you can retrieve the ones you want
               to see using the 'archive-get' command.
  The name of the digest (sub-class of 'daily' and 'weekly' in the examples above)
  is optional. You can leave the digest name and format off the command to get
  the defaults provided by the list owner. If you choose the index formatting,
  be aware that the list owner has further control of how much information is
  available. You can review "help configset digest_index_format" to see if your
  list is set up the way you want, but you can't change it as a subscriber.

  You should refer to each list's introductory document for a set of which
  digest sub-classes are available to you. You may choose a digest name based
  on what the list owner has already set up, which might NOT be the digest
  names shown here ('daily' or 'weekly'). To get that document, send
     intro LISTNAME
  using the actual list name, to the server at $MJ

  If the welcome/info/intro text doesn't discuss digests, you can send
  this command to the server for a list of available digests:
     configshow LISTNAME digests
  or you can contact the list owner at the special address
  LISTNAME-owner@$WHEREAMI


1f) Subscription Class of "all" for use in debugging by list owners

  There is a class called "all", but it should only be used by the list
  owner as a debugging tool. The 'all' class is NOT a shorthand for all
  of the other classes! The list owner, or a power user with the list
  password, can put their address in the 'all' class and get lots of
  messages: all digests in all types, and each message with and without
  subject_prefix and reply_to.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  2. informative messages
     (noack, ackall, ackimportant, ackstall, ackdeny, ackpost, ackreject)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

To control what kind of messages are sent to non-subscribers who try to
send messages to the list, the list owner can set default flags. Refer
to "help configset nonmember_flags" for details.

To control what parts of the process Majordomo informs you about once your
message is submitted to a list where you are subscribed, send one of these
commands to the server $MJ after you subscribe:

   set LISTNAME noack YourEmailAddressHere
     - You receive nothing about posts, whether they go to the list or
       bounce to the owner for review or are denied. You should monitor
       the list to see if your msg is posted, and you may not see
       important messages about your subscription.

WARNING: Using "noack", the default, can make error messages vanish if
         your list has access_rules that use replyfile. If your list uses
         only mailfiles, using "noack" can suppress one of the two messages
         some errors produce. Use "set LISTNAME noack" with extreme caution,
         as the list owner has no way to override it except by forcing your
         subscription options to change.

   set LISTNAME ackstall YourEmailAddressHere
     - You are notified if an attempted post is bounced to the moderators
       or the list owner for approval prior to distribution.

   set LISTNAME ackdeny YourEmailAddressHere
     - You are notified if an attempted post is denied by the access rules
       the list owner has established for this list.

   set LISTNAME ackpost YourEmailAddressHere
     - You are notified if an attempted post is actually sent to the list.
       Note that this does NOT imply that it was sucessfully distributed
       to all the subscribers, just that it was queued for delivery.

   set LISTNAME ackreject YourEmailAddressHere
     - You are notified if an attempted post is rejected by the moderators
       or the list owner prior to distribution.

   set LISTNAME ackimportant YourEmailAddressHere
     - You are notified if an attempted post is held up for approval or
       denied due to rules the owner has set up for the list. This setting
       automatically enables ackstall, ackdeny, ackpost, and ackreject.

   set LISTNAME ackall YourEmailAddressHere
     - Identical to ackimportant, use the one you like typing the best.

NOTE: The list owner may want to refer to "help configset ack_attach_original"
      for how to return a denied post along with the pre-defined error text,
      "help configset access_rules" for notes about replyfiles and noack, and
      "help configset default_flags" for how new subscriptions start out.


To make sure you get all messages from the server, send this one-line
command to $MJ
   set LISTNAME ackall YourEmailAddressHere
Remember to put in your actual email address and the real list name.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  3. copies of your own posts (selfcopy, noselfcopy)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

These control whether or not you get a copy of your own message sent back
to you.  (Assuming you are receiving 'each' message; 'digest' users will
always see their own messages in the digest and 'nomail' users will
obviously not receive their messages).

   To get copies of your own post from the list "LISTNAME", send this
   one-line command to $MJ
      set LISTNAME selfcopy YourEmailAddressHere

   To suppress copies of your own post from the list "LISTNAME", send this
   one-line command to $MJ
      set LISTNAME noselfcopy YourEmailAddressHere

   Remember to put in your actual email address and the real list name.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  4. being visible with "who" (hideall, hideaddress, nohide, showall)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

These control whether or not users can see your address using 'who':
     hideall     - 'who' shows nothing about you.
     hideaddress - 'who' shows your name but not your email address
     nohide      - 'who' shows both your name and your address
     showall     - same as "nohide", shows all information

For maximum privacy, send this one-line command to $MJ
      set LISTNAME hideall YourEmailAddressHere
where "LISTNAME" is replaced with the name of the list.

Remember to put in your actual email address and the real list name.

The list owner can disable the "who" command several different ways,
so even if you use "nohide" here others may be unable to get your
name from the subscriber list. See "help who" for details.

Your email address is stored separately from comment fields that were
with it when you subscribed. The "hideaddress" setting will leave those
comments visible, but only if you provided them when you registered or
when you subscribed. For example, "Joe Blow <joe@blow.org>" has a
comment (or name) of "Joe Blow"... but no one knows if that comment
will be there for each subscriber or if it will represent a real name.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  5. list mail if you already got a CC (eliminatecc, noeliminatecc)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

These control carbon copy elimination. If this is enabled and your address
appears in the To: or CC: headers of a posted message that Majordomo is
processing, it will not send an additional copy to you.  This helps to
cut down on many of those annoying duplicates that are often received,
but it deprives you of the additional processing that Majordomo does on
a message (subject prefixes, additional headers, etc.).
     eliminatecc   - turns CC elimination on
     noeliminatecc - turns it off

To make sure you get all messages, even though they may be duplicates,
send this one-line command to $MJ
      set LISTNAME noeliminatecc YourEmailAddressHere
where "LISTNAME" is replaced with the name of the list.
Remember to put in your actual email address.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  6. subject prefix added by owner (prefix, noprefix)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

These control subject prefix generation.  If the list owner has defined a
prefix, you can specify whether or not you want to see it.
     prefix   - always add the prefix
     noprefix - never show the prefix

To eliminate offensive subject prefixes, send this one-line command
to $MJ
      set LISTNAME noprefix YourEmailAddressHere
where "LISTNAME" is replaced with the name of the list.
Remember to put in your actual email address.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  7. replyto header added by owner (replyto, noreplyto)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

These control Reply-To: header generation.  If the list owner has defined
a Reply-To: header, you can specify whether or not you want to see it.
     replyto   - always add the Reply-To: header
     noreplyto - never add the header (but if the poster has provided one,
                 you will see it)

To eliminate list-specific Reply-To fields, send this one-line command to $MJ
      set LISTNAME noreplyto YourEmailAddressHere
where "LISTNAME" is replaced with the name of the list.
Remember to put in your actual email address.

WARNING: Different mail tools interpret the From, Sender, and Reply-To
         fields in different ways. Some don't even show you all the headers,
         so you should always check who a reply will go to before you send it.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  8. rewrite "From:" header when you post (rewritefrom, norewritefrom)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

These control rewriting the "From:" header.  When you subscribe
to a Majordomo mailing list, a comment may be stored in addition
to your address.  For example, "joe blow" is the comment in
       joe blow <joe@nowhere.com>
or
      "joe blow" joe@nowhere.com

When you post messages to a list, Majordomo can rewrite the "From:"
header to be identical to the one with which you subscribed:
      rewritefrom   - change the From: header
      norewritefrom - leave the From: header alone

This might be useful, for example, to someone who is moderating a
mailing list.  Instead of having one's name appear in the  "From:"
header, Majordomo could automatically make it appear like this:
      List Moderator <someone@example.com>
    
To rewrite the From: header, send this one-line command to $MJ
       set LISTNAME rewritefrom YourEmailAddressHere
where "LISTNAME" is replaced with the name of the list.

Your address, shown as "YourEmailAddressHere" above, is used to look up
your subscription to the specified list. It is NOT used as the new "From:"
field. Remember to put in your actual email address and the real list name. 


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  9. summary of all possible flags (and how to default them)
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

Here is a summary of all possible flags, grouped into mutually
exclusive sets (specify only one of each set, because each one will
override the others in the set). Detailed descriptions are above.

Remember to put in your actual email address and the real list name!
If you use the special pseudo-list name "ALL", this command changes
each place where the specified address is subscribed.

1. Subscription class:                                (see default_class)
   set LISTNAME each Address
   set LISTNAME digest[-name][-index][-text][-mime] Address
   set LISTNAME   nomail[-time] Address
   set LISTNAME vacation[-time] Address
NOTE: "nomail" and "vacation" are identical, use whichever you like.

2. Informative messages about your post:   (see default_flags of b,d,f,j)
   set LISTNAME   ackall       Address  (all of b,d,f,j in default_flags)
   set LISTNAME   ackdeny      Address             ('d' in default_flags)
   set LISTNAME noackdeny      Address          (no 'd' in default_flags)
   set LISTNAME   ackimportant Address  (all of b,d,f,j in default_flags)
   set LISTNAME   ackpost      Address             ('f' in default_flags)
   set LISTNAME noackpost      Address          (no 'f' in default_flags)
   set LISTNAME   ackreject    Address             ('j' in default_flags)
   set LISTNAME noackreject    Address          (no 'j' in default_flags)
   set LISTNAME   ackstall     Address             ('b' in default_flags)
   set LISTNAME noackstall     Address          (no 'b' in default_flags)
   set LISTNAME noack          Address (none of b,d,f,j in default_flags)
NOTE: "ackall" and "ackimportant" are identical, use whichever you like.

3. Whether you want a copy of your own posts:        (default_flags of S)
   set LISTNAME   selfcopy     Address             ('S' in default_flags)
   set LISTNAME noselfcopy     Address            (no S in default_flags)

4. Whether you want to be visible with "who":      (default_flags of H,h)
   set LISTNAME   hideall      Addressl            ('H' in default_flags)
   set LISTNAME   hideaddress  Address             ('h' in default_flags)
   set LISTNAME nohide         Address     (none of H,h in default_flags)
   set LISTNAME   showall      Address     (none of H,h in default_flags)
NOTE: "showall" and "nohide" are identical, use whichever you like.

5. Suppress list mail if you already got a CC:       (default_flags of C)
   set LISTNAME   eliminatecc Address              ('C' in default_flags)
   set LISTNAME noeliminatecc Address           (no 'C' in default_flags)

6. Suppress subject prefix added by owner:           (default_flags of P)
   set LISTNAME   prefix      Address              ('P' in default_flags)
   set LISTNAME noprefix      Address           (no 'P' in default_flags)

7. Suppress replyto header added by owner:           (default_flags of R)
   set LISTNAME   replyto     Address              ('R' in default_flags)
   set LISTNAME noreplyto     Address           (no 'R' in default_flags)

8. Rewrite the comment in the From: header:          (default_flags of W)
   set LISTNAME   rewritefrom Address              ('W' in default_flags)
   set LISTNAME norewritefrom Address           (no 'W' in default_flags)

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 10. administrators only: how to change flags for ALL subscribers
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

FOR ADMINISTRATORS WITH SHELL ACCESS ONLY: This trick fairly quickly
changes the "set" options for every subscriber to every list on your
system, which can be used to accommodate new flags or recover from a
bad choice of default flags (see "help configset default_flags").
The "set" command cannot wild-card addresses, but you can use "who"
to obtain a list of unique subscribers and use "set ALL" to fix every
list they are subscribed to.

In this example, the "ackpost" flag is being turned off, and all
other "set" flags are left unchanged:
mj_shell -p XXX who-noinform-quiet GLOBAL > \
  | sed "s/^/set-noinform-quiet ALL noackpost /" > mj.tmp
mj_shell -p XXX -F mj.tmp > mj.log

You should search the transcript for any sort of error message,
and search the "mj.log" file for asterisks which indicate Majordomo
parsing errors. The first and last line of the mj.tmp file will be
invalid commands, but no harm will be done.

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

See Also:
   help configset access_rules           (to restrict or allow access to 'set' changes)
   help configset access_rules_variables (set/test for this command)
   help configset ack_attach_original    (attaches post to error message if stalled)
   help configset allowed_flags          (restricts subscribers ability to set flags)
   help configset allowed_classes        (restricts subscribers ability to set digest)
   help configset default_class          (sets per-list defaults before subscribing)
   help configset default_flags          (sets per-list defaults before subscribing)
   help configset dup_lifetime           (can bypass duplicate post / "unique" class checking)
   help configset nonmember_flags        (sets non-subscriber defaults for ack messages)
   help configshow                       (for how to get a list of availabel digests)
   help subscribe (allows you to choose the comment that appears with your address)
   help times     (details of how to specify a time period for 'nomail')
   help who       (-export option can extract all the set commands for an entire list)


For a list of all help topics send this one-line message
   help topics
to the server at $MJ
