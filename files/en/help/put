= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
put      listname filename          [subject] <<TAG
put-data listname filename MIMEdata [subject] <<TAG
put-dir  listname filename          [subject]
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
listname, required, is an email list at this site (or GLOBAL)
filename, required, is the pathname of the file or directory to create
subject,  if specified, is a string that describes the file's contents
-data,    if specified, tells Majordomo to look for MIMEdata
-dir,     if specified, creates an empty directory, not a file
MIMEdata, if specified with the -data option, must contain MIME info
<<TAG, if specified, provides more than one line of data (here file)
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

NOTE: A leading slash on the filename is NOT the same as the root
      directory of your computer's file system! Watch out for how
      trailing backslashes are treated, since "put" files are also
      processed as "here documents" as described in "help commands".

This command stores a file under the list, which can then be retrieved
with "get" by those who are authorized to do so. If you are not
authorized to put a file, the "put" command returns an error message.
(only list owners and site administrators may put files) The error
messages themselves are often files that can be replaced with "put",
as described near the end of this help message.

The subject field, if supplied, should be an unpunctuated string of
words separated by spaces. It will show up in an "index" listing as
a brief description of the file or directory, and in some cases for
the GLOBAL pseudo-list the subject will be used as the subject line
of email messages sent out by Majordomo.

DO NOT ENCLOSE THE SUBJECT IN QUOTES, because the quotes will show
up in the index listing and anywhere else the subject string is used.

Without the "-data" option, and the accompanying "MIMEdata" fields,
the file will be assumed to be text/plain with 8bit encoding. If the
"-data" option is used, the command requires additional data about
the file, and the MIMEdata fields must be legal MIME values
(content-type charset content-transfer-encoding).

With the "-dir" option, "filename" is interpreted to be a directory
path, and a directory (also called a folder) is created. In this case,
the "put" command does NOT require (or accept) data. Once created, the
directory can be used to store files with "put dir/file" using the
standard Unix file path syntax (directories are separated by slashes).
It is also possible to use "put-dir top/next to create nested folders.

Unless the "-dir" option is used, data must be supplied as the
contents of the new file. This is done using a "here file" as
explained in both "help commands" and "help admin commands".
For example, to create a file with two lines in it:

  put MYLIST MYFILE MY SUBJECT STRING <<ENDOFMYFILE
this is the first line of the file
and this is the second line!
ENDOFMYFILE

File names are case sensitive! Be sure to type upper and lower
case letters exactly as you want them to be shown by "index".
List names are NOT case sensitive.

Note that "filename" is actually a file pathname, and may include
one or more levels of directories (also called folders). The "index"
command will show which entries are files and which are directories.
For example, if list "MYLIST" contains a file called "TOPFILE" in
addition to a directory "SUBDIR" and a file in that directory which
is called "ANOTHERFILE", then these commands would be valid:
  put MYLIST TOPFILE
  put MYLIST SUBDIR/ANOTHERFILE
where a slash "/" separates the directory name from the file name
and the "<<TAG" which supplies data is not shown.

Site administrators can put files to the GLOBAL list as a way of
providing files to all lists and all users at once. This should be
done with caution, however, as it can damage the site, rendering
some features useless, until the old file is put back. Examples of
GLOBAL files would be "consult" and "confirm", which contain the
messages used to ask for "accept" or "reject", plus help files
(which will be found before the default help files are found if
they are stored in GLOBAL's "/help" directory).

Site administrators should refer to "help configset access_rules"
for ways to change the message which asks for accept/reject tokens
(sample "put" files for "consult" and "confirm").

Once created, a file or directory can only be deleted from the
operating system shell prompt. Remove the file or directory from
the apropriate directory under the list to delete it, as there is
no Majordomo command to delete a previously "put" file or directory.

Directories for use by "put" are stored under the list's "files"
directory if the file (or directory) path starts with a "/". To
create a new help file for "help junk", use "put-dir GLOBAL /help"
and then "put GLOBAL /help/junk". These commands actually create
the directory ".../GLOBAL/files/help" and within that directory
the file      ".../GLOBAL/files/help/junk", which is returned by
the "help junk" command. This behavior (e.g. the location of the
files and directories) can be altered with "configset filedir".

NOTE: Some files are examined for variables that will be replaced
with other text as the file used. See "help configset access_rules"
for mailfile and replyfile variables, and refer to the text below
for other system error message files. You cannot replace the system
message files, but you can use "put GLOBAL /filename", so the server
will find your file (of the same name) before the system file.

Scoping keeps each list's filespace separate. If the file (or dir)
path does NOT start with a slash, as in "put listname charter.txt",
the file will go into the list's "files/public" directory, as in
".../listname/files/public/charter.txt" where it will appear in
index listings that do not specify a path (like "index listname").

List archives, if they are being created and if archive_dir is not
set, go into ".../listname/files/public/archive/archive-file-name",
where they appear to commands like "index listname archive".


+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

The remainder of this help file was originally from the now
obsolete 'README.FILES' in the Mj2 distribution tree. Note that
this information may be incomplete... please let us know if you
find anything that can be improved!

These are all of the files that should exist somewhere in a list's (or
GLOBAL's) filespace.  They will be mailed out at various times. (Many
customization possibilities have reduced the number of such files.)
Note that the list's search_list will be consulted, so GLOBAL should
not contain files like faq or info (barring, of course, applications
where this is warranted).

These files may be modified 'on the fly' by using \$INCLUDE to
auto-include other files as these are sent out, and also by
evaluation of other variables (see "help variables" for details).

ack_denial
  Sent out instantaneously (at least to users who have requested posting
  acknowledgments via the "set" command) when their attempted post is
  bounced by a deny clause in access_rules. Note that these are only sent
  for posts; for other requests, this information is communicated through
  the normal command reply.

ack_rejection
  Sent out after a 'stall' has been resolved (at least to users who have
  requested posting acknowledgments via the "set" command) when the list
  owner or the moderator rejects a token.

ack_stall
  Sent out instantaneously (at least to users who have requested posting
  acknowledgments via the "set" command) when their attempted post is
  sent to the moderator or list owner for approval due to a consult
  clause in access_rules or other list settings. Stalls usually occur as
  a result of consult clauses in access_rules, but may be due to checksums
  which trap duplicate messages, etc.

ack_success
  Sent to users who request all acknowlegements via the "set" command.
  This should just inform them that their post was successfuly delivered.

ack_timeout
  Sent when a token or a spooled message is deleted after expiration
  without being accepted or rejected.

confirm
  Sent out to inform a list subscriber of the confirmation token
  they must return.

consult
  Sent out to inform a list owner of the confirmation token
  they must return.

digest files
  Majordomo uses various files to fill in pieces of the digests.
  See "help digest" for more info and the names of the files.

faq
  Sent in response to a faq request.

inform
  Sent out to the list owner to inform them of some list action
  (a new subscription, etc.)

intro
  Sent out attached to the welcome message if welcome_files is
  unset and welcome is on.

info
  Sent in response to an info request.

welcome
  Sent out to welcome new subscribers if welcome_files is unset
  and welcome is on (unless -welcome was used on the sub request).

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

See Also:
   help commands  (for backslash character replacement notes)
   help configset access_rules (for confirm, consult, deny, allow clauses)
   help configset access_rules_variables (set/test for this command)
   help configset filedir      (to create files in a non-default location)
   help accept    (for how to OK a token)
   help access    (for the special case of granting/denying all access)
   help digest    (for additional file names and usage)
   help get       (retrieve files by email)
   help index     (find out which files are available for "put")
   help newfaq    (a shortcut way to put the file "faq")
   help newinfo   (a shortcut way to put the file "info")
   help newintro  (a shortcut way to put the file "intro")
   help post      (for the special case of restricting who can post msgs)
   help reject    (for how to refuse a token)
   help variables (for a list of all possible variables and what they mean)

For a list of all help topics send this one-line message
   help topics
to the server at $MJ

