= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
digest[-check][-force][-incvol][-status] listname [digestname]
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
must specify exactly one of -check, -force, -incvol, or -status
   -check,  if specified, pushes a digest if necessary
   -force,  if specified, pushes a digest needed or not
   -incvol, if specified, increments the volume number
digestname, if specified, is the name of a list digest
listname, required, is the name of a list at this site
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

NOTE: The "mkdigest" command causes "digest-force" to occur.

In all cases, leaving off the digestname operates on all of the
lists's digests. You must have list archives enabled to create digests.

digest-incvol listname digestname
  increments the volume number.  (Yes, you could do it with a configset as
  well, but this is nice to do from cron once a year.)

digest-check listname digestname
  checks to see if a digest should be pushed and pushes it if necessary.

digest-force listname digestname
  forces a digest push _now_, even if it doesn't have enough messages in it
  to go normally.  This is for people who want a digest to go at midnmight,
  regardless or whether or not it will be full.

digest-status listname digestname
  shows the current data for one or more digests.
  Here is sample of the output:
    Digest Name                weekly
    Last delivered on          Mon Aug 14 21:15:06 2000
    Age of oldest message      407014 seconds
    Oldest age allowed         518400 seconds
    Age of newest message      2402 seconds
    Messages awaiting delivery 194
    Message total size         2006561 bytes
    Maximum size of a digest   102400 bytes
    200008/660     On the road to a PGM panic...........
     by "THC" <thchi@xxxxxxx.xx.jp>                      Mon Aug 14 23:15:20 2000
    (summaries of the other 193 messages elided)

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

There are three places where "put" files are used in digests:
  preindex  - before the index
  postindex - after the index
  footer    - at the very end

There are three types of digest:
  text
  mime
  index  (an index digest has no footer)

The list owner can define any number of named digests with various
generation parameters, as explained above.

If you have a digest called "weekly" and a "mime" digest is
being sent out, Majordomo will look for the following files
in the usual search list for the preindex text:
   digest_weekly_mime_preindex
   digest_weekly_preindex
   digest_mime_preindex
   digest_preindex

Of course, 'weekly' is replaced by the actual digest name for the
list and selected by the subscriber, and 'mime' is replaced by the
type of digest the user has selected.

Similarly for postindex:
   digest_weekly_mime_postindex
   digest_weekly_postindex
   digest_mime_postindex
   digest_postindex

Finally, the footer follows the same pattern:
   digest_weekly_mime_footer
   digest_weekly_footer
   digest_mime_footer
   digest_footer

Repeat these three groups of files (preindex, postindex, footer) for
each digest name and each digest type, and potentially for each list
on your server, and you have lots of files to "put"!

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

See Also:
   help configset access_rules_variables (set/test for this command)
   help configset archive_dir (to store archives in a non-default dir)
   help configset_digests     (for how to configure digesting)
   help mkdigest  (for another way to do "digest-force")
   help put       (for how to create archive dir and pre/post/foot files)
   help variables (for details on variable substitution and auto-include files)

For a list of all help topics send this one-line message
   help topics
to the server at $MJ
