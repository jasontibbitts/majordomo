= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
createlist-destroy listname owner
createlist[-force][-noarchive][-nocreate][-noheader][-nowelcome][-regen] listname owner
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
listname,  required, is an email list at this site
owner,     required, is an email address for who will manage the list
-destroy,  if specified, deletes instead of creating the list
-force,    if specified, takes action even if list already exists
-noarchive if specified, suppresses creation of the msg archive directory
-nocreate, if specified, shows suggested aliases but takes no action
-noheader, if specified, shortens the suggested aliases message
-nowelcome,if specified, suppresses intro msg for new owner
-regen,    if specified, re-generates the suggested MTA configurations
= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =

Creates the internal structures needed to maintain a list with the given
name, unless the "-nocreate" or "-regen" options are used or unless the
list already exists and the "-force" option is not used. Be sure to review
"help configset default_flags" and "help configset default_class" and also
"help set": it is easier to set up the default values correctly than it
is to have each subscriber alter them. Some items like replyfile specs
in "configset access_rules" may not function properly if default_flags
are set wrong.

The GLOBAL new_list file is sent to the list owner when a new list is
created, unless the "-nowelcome" mode was specified. If you want to change
this message, use "put GLOBAL new_list".

The createlist command automatically creates the default archive directory
unless "-noarchive" mode is specified. It also generates a random list
password which can be replaced using "configset".

WARNING: If you use "configset archive_dir" to change the default archive
directory location, the directory created by "createlist" will NOT be
renamed... you have to use "put-dir" to create your archive directory,
or else the files will fall into the default directory and neither "get"
nor "archive-get" will be able to find them.

The "createlist" command also suggests the necessary MTA configuration
if the MTA in use is supported -- for example, if sendmail is the MTA in
use, a set of sendmail aliases will be generated.  Note that Majordomo
does not (yet) handle configuring the MTA itself, although it generally
provides data which can simply be pasted into the necessary config file.

NOTE: As of 1/99, the owner-listname alias has a trailing comma which must
      be removed or the sendmail alias will not work.

If "listname" is 'GLOBAL', the setup for the site-wide Majordomo address
is given instead of the setup for a single list.

If "createlist-regen" is used, all other options and arguments are ignored.
A complete list of suggested MTA configurations for the site and each list
is displayed. This will be required after changing "configset debug".

Options include the following:

  -destroy
    The createlist-destroy option removes a list by renaming the list's
    directory, including a generation number to prevent successive
    destructions of the same list from overwriting one another. The list
    must have no subscribers, to prevent inconsistencies in the registry,
    and is not actually deleted from the file system until someone with
    shell access goes in and deletes the files and the renamed directory
    by hand. It renames the list's directory to start with a comma and
    end with the deletion version number as in ",test-list.0".

  -force:
    If the list already exists, the 'createlist' command will fail
    unless the 'force' argument is used.  Note that the owner address you
    enter when you force the list creation will replace any previous owner
    addresses associated with the list.

  -noarchive:
    This argument suppresses creation of the message archive directory.
    WITHOUT '-noarchive', the directory "listname/public/archive" is
    created (regardless of the "configset archive_dir" setting).

  -nocreate:
    This argument will cause 'createlist' to suggest the MTA
    configuration without actually creating the list; the command will not
    fail if the list already exists.

  -noheader:
    The instructional information that precedes the suggested
    MTA configuration info will not be displayed.

  -nowelcome:
  -quiet:
    No introductory mail will be sent to the list owner.
    (The 'quiet' and 'nowelcome' modes are identical.)

  -regen:
    Display MTA configuration only, ignore all other options and args.

NOTE: Auxiliary or sub lists are NOT created with createlist! Only regular
lists need createlist - a sublist is created by adding an address to it
with auxadd, or by mentioning it in the access rules. If a list has sublists,
aliases will be generated only for those sublists specified by "configset sublists".


See Also:
   help auxadd            (to create and subscribe addresses to a sublist)
   help configset                     (to configure the list once created)
   help configset access_rules_variables       (set/test for this command)
   help configset archive_dir (to specify a non-default archive directory)
   help configset default_class       (to configure default subscriptions)
   help configset default_flags       (to configure default subscriptions)
   help configset sublists  (to make cause alias generation for aux lists)

For a list of all help topics send this one-line message
   help topics
to the server at $MJ
